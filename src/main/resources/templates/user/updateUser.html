<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/layout.html}">
<head>
<title>Update User</title>
</head>
<body>

<section layout:fragment="content">

    <h1>Update User</h1>
    
    
<form action="#" th:action="@{/users/update}" th:object="${user}" method="POST">
    
    <!-- Add hidden form field to handle update -->
    <input type="hidden" th:field="*{id}" />    

    <div>
        <label for="firstName">First Name (required):</label>
        <input type="text" th:field="*{firstName}"/>
        <span th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" style="color:red;"></span>
        <br>
    </div>

    <div>
        <label for="lastName">Last Name (required):</label>
        <input type="text" th:field="*{lastName}"/>
        <span th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" style="color:red;"></span>
        <br>
    </div>


    <div>
        <label for="active">Active:</label>
        <input type="checkbox" th:field="*{active}" th:value="*{active}" />
        <br>
    </div>


	<div>
	    <label for="roles">Roles (required, select multiple):</label>
	    <br>        
	    <select th:field="*{roles}" multiple>
	        <option th:each="role : ${roles}" 
	                th:value="${role.id}" 
	                th:text="${role.name}">
	        </option>
	    </select>
	    <span th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}" style="color:red;"></span>
	    <br>
	</div>

    <input type="submit" value="Save">
</form>


<br/>
<a href="/users/list">Back to list</a> 



</section>

</body>
</html>
